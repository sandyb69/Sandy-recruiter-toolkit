<script>
function getInputs() {
    return {
        spec: document.getElementById("specialty").value.trim(),
        loc: document.getElementById("location").value.trim()
    };
}

function openURL(url) { window.open(url, "_blank"); }

/* =======================
     SMART AUTO SEARCH
   ======================= */
function smartSearch() {
    let { spec, loc } = getInputs();
    if (!spec || !loc) return alert("Enter Specialty & Location");

    let q = encodeURIComponent(spec + " " + loc);

    // Balanced Resume Search
    openURL("https://www.google.com/search?q=(" 
        + q + 
        ")+(\"resume\"+OR+\"cv\"+OR+\"work+history\")"
        + "+(filetype:pdf+OR+filetype:doc+OR+filetype:docx)"
        + "+(\"gmail.com\"+OR+\"yahoo.com\"+OR+\"hotmail.com\")"
        + "+-intitle:sample+-intitle:template"
        + "+-site:resumegenius.com+-site:indeed.com/career-advice"
    );

    // Balanced Contact Search
    openURL(
        "https://www.google.com/search?q=(" 
        + q + 
        ")+(\"Phone:\"+OR+\"Email:\"+OR+\"Contact:\")"
        + "+(filetype:pdf+OR+filetype:doc)"
        + "+-intitle:template+-site:sample"
    );

    // LinkedIn
    openURL("https://www.linkedin.com/search/results/people/?keywords=" + q);

    // Facebook
    openURL("https://www.facebook.com/search/people?q=" + q);

    // NPI (clinical roles only)
    if (/rn|lpn|np|pt|ot|rt|cna/i.test(spec)) {
        openURL("https://npiregistry.cms.hhs.gov/search-results-table?name=" + encodeURIComponent(spec));
    }
}

/* =======================
     INDIVIDUAL TOOLS
   ======================= */

function pdfSearch() {
    let { spec, loc } = getInputs();
    let q = encodeURIComponent(spec + " " + loc);
    openURL(
        "https://www.google.com/search?q=(" + q + 
        ")+(filetype:pdf+OR+filetype:doc+OR+filetype:docx)"
        + "+(\"gmail.com\"+OR+\"yahoo.com\"+OR+\"hotmail.com\")"
        + "+-intitle:sample+-intitle:template"
    );
}

function broadResumeSearch() {
    let { spec, loc } = getInputs();
    openURL("https://www.google.com/search?q=(" 
        + encodeURIComponent(spec + " " + loc) 
        + ")+resume+-template+-sample"
    );
}

function booleanBuilder() {
    let { spec, loc } = getInputs();
    let str = `("${spec}" OR "${spec.split(" ").join("\" OR \"")}") ("${loc}") (resume OR cv) ("gmail.com" OR "yahoo.com") -template -sample`;
    alert("Boolean Copied:\n\n" + str);
    navigator.clipboard.writeText(str);
}

function contactSearch() {
    let { spec, loc } = getInputs();
    let q = encodeURIComponent(spec + " " + loc);
    openURL(
        "https://www.google.com/search?q=(" 
        + q + 
        ")+(\"Phone:\"+OR+\"Email:\"+OR+\"Contact:\")"
        + "+(filetype:pdf+OR+filetype:doc)"
        + "+-template+-sample"
    );
}
</script>
